(this.webpackJsonpto_visit_frontend=this.webpackJsonpto_visit_frontend||[]).push([[0],{108:function(e,t,n){},173:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(109),c=n.n(a),i=n(21),s=n(16),o=n(270),l=n(271),j=n(33),u=n(265),b=n(263),d=n(114),h=n.n(d),O=n(115),x=n.n(O),f=n(116),p=n.n(f),m=n(117),v=n.n(m),g=n(227),w=n(228),y=n(15),k=n(20),S=n(42),C=n(46),z=n.n(C),A=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.post("http://localhost:3111/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W={login:A},I="http://localhost:3111/api/visits",F=null,T=function(){var e=Object(k.a)(Object(y.a)().mark((function e(){var t;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get(I);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.a.get("".concat(I,"/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:F}},e.next=4,z.a.post(I,t,n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response.data.error){e.next=14;break}return e.abrupt("return",e.t0.response.data);case 14:if(!e.t0.response.data){e.next=18;break}return e.abrupt("return",{error:e.t0.response.data});case 18:return e.abrupt("return",{error:"Unknown error"});case 19:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n,r,a;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:F}},r={what:t.what,where:t.where,how:t.how,category:t.category,timeLength:t.timeLength,timeOfYear:t.timeOfYear,priceCategory:t.priceCategory,easeOfOrganization:t.easeOfOrganization,notes:t.notes,done:t.done,totalWalkingDistance:t.totalWalkingDistance,actualPrice:t.actualPrice},e.next=5,z.a.patch("".concat(I,"/").concat(t.id),r,n);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:if(e.prev=9,e.t0=e.catch(0),!e.t0.response.data.error){e.next=15;break}return e.abrupt("return",e.t0.response.data);case 15:if(!e.t0.response.data){e.next=19;break}return e.abrupt("return",{error:e.t0.response.data});case 19:return e.abrupt("return",{error:"Unknown error"});case 20:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n,r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={headers:{Authorization:F}},e.next=4,z.a.delete("".concat(I,"/").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r.data);case 8:if(e.prev=8,e.t0=e.catch(0),!e.t0.response.data.error){e.next=14;break}return e.abrupt("return",e.t0.response.data);case 14:if(!e.t0.response.data){e.next=18;break}return e.abrupt("return",{error:e.t0.response.data});case 18:return e.abrupt("return",{error:"Unknown error"});case 19:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),V={getAll:T,getOne:P,create:B,setToken:function(e){F="bearer ".concat(e)},updateVisit:N,removeVisit:E},Y={message:null,type:null},D=Object(S.b)({name:"notifications",initialState:Y,reducers:{showNotification:function(e,t){return t.payload},hideNotification:function(e,t){return Y}}}),U=D.actions,$=U.showNotification,L=U.hideNotification,q=null,_=function(e,t,n){var r={message:e,type:t};return function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t($(r)),q&&clearTimeout(q),q=setTimeout((function(){t(L())}),1e3*n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},J=D.reducer,M={id:null,token:null,username:null},H=Object(S.b)({name:"user",initialState:M,reducers:{loginUser:function(e,t){return t.payload},logoutUser:function(e,t){return M}}}),K=H.actions,R=K.loginUser,G=K.logoutUser,Q=function(e){var t=e.username,n=e.password;return function(){var e=Object(k.a)(Object(y.a)().mark((function e(r){var a;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.login({username:t,password:n});case 3:a=e.sent,window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(a)),V.setToken(a.token),r(R(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(_("Wrong credentials","error",5));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},X=H.reducer,Z=n(0),ee=function(){var e=Object(i.b)(),t=Object(s.g)(),n=Object(i.c)((function(e){return e.login}));return Object(Z.jsx)(o.a,{p:1,pl:2,children:Object(Z.jsx)(l.a,{elevation:0,sx:{p:1,backgroundColor:"#010204"},children:Object(Z.jsxs)(b.a,{"aria-label":"breadcrumb",children:[Object(Z.jsx)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,fontSize:"inherit",to:"/",children:Object(Z.jsx)(h.a,{sx:{mr:.5},fontSize:"inherit"})}),n.token&&Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,fontSize:"inherit",to:"/new",children:[Object(Z.jsx)(x.a,{sx:{mr:.5},fontSize:"inherit"}),"New visit"]}),n.token&&Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,fontSize:"inherit",to:"/search",children:[Object(Z.jsx)(g.a,{sx:{mr:.5},fontSize:"inherit"}),"Search"]}),n.token&&Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,fontSize:"inherit",to:"/analytics",children:[Object(Z.jsx)(w.a,{sx:{mr:.5},fontSize:"inherit"}),"Analytics"]}),!n.token&&Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,fontSize:"inherit",to:"/login",children:[Object(Z.jsx)(p.a,{sx:{mr:.5},fontSize:"inherit"}),"Login"]}),n.token&&Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:"button",fontSize:"inherit",onClick:function(){e(function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("loggedBlogAppUser"),V.setToken(null),t(G());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t("/")},children:[Object(Z.jsx)(v.a,{sx:{mr:.5},fontSize:"inherit"}),"Logout"]})]})})})},te=n(17),ne=n(272),re=n(11),ae=n(277),ce=n(275),ie=n(276),se=n(274),oe=n(278),le=n(266),je=n(273),ue=n(229),be=function(e){var t=e.visits;return Object(Z.jsx)(je.a,{children:t.map((function(e){return Object(Z.jsxs)(se.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(Z.jsx)(ce.a,{component:"th",scope:"row",children:Object(Z.jsxs)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,to:"/visits/".concat(e.id),children:[e.what,"\xa0",Object(Z.jsx)(ue.a,{sx:{mr:.5},fontSize:"inherit"})]})}),Object(Z.jsx)(ce.a,{align:"left",children:e.where}),Object(Z.jsx)(ce.a,{align:"center",children:e.category.map((function(e){return Object(Z.jsx)("div",{children:Object(Z.jsx)(u.a,{underline:"hover",sx:{display:"flex",alignItems:"center"},color:"inherit",component:j.b,to:"/visits/category/".concat(e),children:e})},e)}))}),Object(Z.jsx)(ce.a,{align:"center",children:e.priceCategory}),Object(Z.jsx)(ce.a,{align:"center",children:e.easeOfOrganization}),Object(Z.jsx)(ce.a,{align:"center",children:e.timeLength})]},e.id)}))})},de=function(e){var t=e.visits,n=Object(r.useState)(t),a=Object(re.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)("desc"),o=Object(re.a)(s,2),j=o[0],u=o[1],b=Object(r.useState)("what"),d=Object(re.a)(b,2),h=d[0],O=d[1];Object(r.useEffect)((function(){i(t)}),[t]);return Object(Z.jsx)(l.a,{elevation:3,sx:{p:1,backgroundColor:"#040a1a"},children:Object(Z.jsx)(ie.a,{components:l.a,children:Object(Z.jsxs)(ae.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(Z.jsx)(oe.a,{children:Object(Z.jsxs)(se.a,{children:[Object(Z.jsx)(ce.a,{sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:Object(Z.jsx)(le.a,{onClick:function(){i("asc"===j?Object(te.a)(t).sort((function(e,t){return e.what.localeCompare(t.what)})):Object(te.a)(t).sort((function(e,t){return t.what.localeCompare(e.what)}))),u("what"===h&&"asc"===j?"desc":"asc"),O("what")},active:"what"===h,direction:"what"===h?j:"asc",children:"What"})}),Object(Z.jsx)(ce.a,{align:"left",sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:Object(Z.jsx)(le.a,{onClick:function(){i("asc"===j?Object(te.a)(t).sort((function(e,t){return e.where.localeCompare(t.where)})):Object(te.a)(t).sort((function(e,t){return t.where.localeCompare(e.where)}))),u("where"===h&&"asc"===j?"desc":"asc"),O("where")},active:"where"===h,direction:"where"===h?j:"asc",children:"Where"})}),Object(Z.jsx)(ce.a,{align:"left",sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:"Category"}),Object(Z.jsx)(ce.a,{align:"center",sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:"Price"}),Object(Z.jsx)(ce.a,{align:"center",sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:Object(Z.jsx)(le.a,{onClick:function(){i("asc"===j?Object(te.a)(t).sort((function(e,t){return e.easeOfOrganization.localeCompare(t.easeOfOrganization)})):Object(te.a)(t).sort((function(e,t){return t.easeOfOrganization.localeCompare(e.easeOfOrganization)}))),u("ease"===h&&"asc"===j?"desc":"asc"),O("ease")},active:"ease"===h,direction:"ease"===h?j:"asc",children:"Ease"})}),Object(Z.jsx)(ce.a,{align:"center",sx:{fontWeight:"bold",fontSize:"h7.fontSize"},children:"Time frame"})]})}),Object(Z.jsx)(be,{visits:c})]})})})},he=function(){var e=Object(i.c)((function(e){return e.visits})),t=Object(te.a)(e).sort((function(e,t){return e.what.localeCompare(t.what)}));return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ne.a,{variant:"h5",component:"div",sx:{p:1,m:1},gutterBottom:!0,children:"Places to visit in the Stockholm area"}),Object(Z.jsx)(de,{visits:t})]})},Oe=n(246),xe=n(268),fe=n(247),pe=n(248),me=[{value:"day",label:"day"},{value:"weekend",label:"weekend"},{value:"long weekend",label:"long weekend"},{value:"week",label:"week"}],ve=[{value:"free",label:"free"},{value:"$",label:"$"},{value:"$$",label:"$$"},{value:"$$$",label:"$$$"}],ge=[{value:"*",label:"*"},{value:"**",label:"**"},{value:"***",label:"***"}],we={spring:!1,summer:!1,fall:!1,winter:!1,indoors:!1},ye={what:"",where:"",category:[],how:[],timeLength:"",timeOfYear:we,priceCategory:"",easeOfOrganization:"",notes:""},ke=n(4),Se=n(26),Ce=n(279),ze=n(280),Ae=n(267),We=n(281),Ie=n(282),Fe=n(258),Te=n(262),Pe=n(230),Be=n(283),Ne=n(231),Ee=n(232),Ve=n(233),Ye=n(234),De=n(235),Ue=n(236),$e=n(237),Le=n(238),qe=n(239),_e=n(240),Je=n(241),Me=n(242),He=n(243),Ke=n(244),Re=n(245),Ge=n(260),Qe=n(284),Xe=function(e){var t=e.timeOfYear,n=e.setTimeOfYear,r=e.values,a=e.setValues,c=e.edit,i=function(e){return function(t){a(Object(Se.a)(Object(Se.a)({},r),{},Object(ke.a)({},e,t.target.value)))}},s=function(e){n(Object(Se.a)(Object(Se.a)({},t),{},Object(ke.a)({},e.target.name,e.target.checked)))},o=t.spring,l=t.summer,j=t.fall,u=t.winter,b=t.indoors;return Object(Z.jsxs)("div",{children:[Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{required:!0,htmlFor:"component-outlined",children:"What"}),Object(Z.jsx)(Ae.a,{onChange:i("what"),value:r.what,label:"What",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Ne.a,{})})})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{required:!0,htmlFor:"component-outlined",children:"Where"}),Object(Z.jsx)(Ae.a,{onChange:i("where"),value:r.where,label:"Where",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Ee.a,{})})})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{required:!0,htmlFor:"component-outlined",children:"Category"}),Object(Z.jsx)(Ae.a,{onChange:i("category"),value:r.category,label:"Add category",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Ve.a,{})})}),Object(Z.jsx)(Ie.a,{id:"outlined-weight-helper-text",children:"Add multiple by separating by ' '"})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{required:!0,htmlFor:"component-outlined",children:"How"}),Object(Z.jsx)(Ae.a,{onChange:i("how"),value:r.how,label:"How",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Ye.a,{})})}),Object(Z.jsx)(Ie.a,{id:"outlined-weight-helper-text",children:"Add multiple by separating by ' '"})]})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Fe.a,{style:{width:400},required:!0,id:"outlined-select-currency",select:!0,label:"Time",value:r.timeLength,onChange:i("timeLength"),InputProps:{startAdornment:Object(Z.jsx)(We.a,{position:"end",children:Object(Z.jsx)(De.a,{})})},children:me.map((function(e){return Object(Z.jsx)(Te.a,{value:e.value,children:e.label},e.value)}))})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1},component:"fieldset",variant:"standard",children:[Object(Z.jsx)(Pe.a,{required:!0,component:"legend",children:"Time of year"}),Object(Z.jsxs)(Be.a,{"aria-label":"position",row:!0,children:[Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:o,onChange:s,name:"spring"}),label:Object(Z.jsx)(Ue.a,{})}),Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:l,onChange:s,name:"summer"}),label:Object(Z.jsx)($e.a,{})}),Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:j,onChange:s,name:"fall"}),label:Object(Z.jsx)(Le.a,{})}),Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:u,onChange:s,name:"winter"}),label:Object(Z.jsx)(qe.a,{})}),Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:b,onChange:s,name:"indoors"}),label:Object(Z.jsx)(_e.a,{})})]})]})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Fe.a,{style:{width:400},required:!0,id:"outlined-select-currency",select:!0,label:"Price category",value:r.priceCategory,onChange:i("priceCategory"),InputProps:{startAdornment:Object(Z.jsx)(We.a,{position:"end",children:Object(Z.jsx)(Je.a,{})})},children:ve.map((function(e){return Object(Z.jsx)(Te.a,{value:e.value,children:e.label},e.value)}))})}),Object(Z.jsx)("div",{children:Object(Z.jsx)(Fe.a,{style:{width:400},required:!0,id:"outlined-select-currency",select:!0,label:"Ease of organization",value:r.easeOfOrganization,onChange:i("easeOfOrganization"),InputProps:{startAdornment:Object(Z.jsx)(We.a,{position:"end",children:Object(Z.jsx)(Me.a,{})})},children:ge.map((function(e){return Object(Z.jsx)(Te.a,{value:e.value,children:e.label},e.value)}))})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{htmlFor:"component-outlined",children:"Notes"}),Object(Z.jsx)(Ae.a,{onChange:i("notes"),value:r.notes,label:"Notes",multiline:!0,startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(He.a,{})})})]})}),c&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1},component:"fieldset",variant:"standard",children:[Object(Z.jsx)(Pe.a,{component:"legend",children:"Been there, done that"}),Object(Z.jsx)(Be.a,{"aria-label":"position",row:!0,children:Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:r.done,onChange:function(e){a(Object(Se.a)(Object(Se.a)({},r),{},Object(ke.a)({},e.target.name,e.target.checked)))},name:"done"}),label:"done"})})]})}),r.done&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{htmlFor:"component-outlined",children:"Walking distance"}),Object(Z.jsx)(Ae.a,{onChange:i("totalWalkingDistance"),value:r.totalWalkingDistance||"",label:"Total walking distance",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Ke.a,{})}),endAdornment:Object(Z.jsx)(We.a,{position:"end",children:"km"})})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{m:1,width:"50ch"},children:[Object(Z.jsx)(ze.a,{htmlFor:"component-outlined",children:"Actual price"}),Object(Z.jsx)(Ae.a,{onChange:i("actualPrice"),value:r.actualPrice||"",label:"Actual price",startAdornment:Object(Z.jsx)(We.a,{position:"start",children:Object(Z.jsx)(Re.a,{})}),endAdornment:Object(Z.jsx)(We.a,{position:"end",children:"SEK"})})]})})]})]})]})},Ze=Object(S.b)({name:"visits",initialState:[],reducers:{setVisits:function(e,t){return t.payload},setOne:function(e,t){return t.payload},addNew:function(e,t){e.push(t.payload)},update:function(e,t){var n=t.payload,r=n.id;return e.map((function(e){return e.id!==r?e:n}))},removeOne:function(e,t){return e.filter((function(e){return e.id!==t.payload}))}}}),et=Ze.actions,tt=et.setVisits,nt=(et.setOne,et.addNew),rt=et.update,at=et.removeOne,ct=function(e){return function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){var r;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.create(e);case 3:r=t.sent,n(nt(r)),n(_("Successfully added ".concat(r.what),"success",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(_("Something went wrong","error",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},it=function(e){return function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){var r;return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.updateVisit(e);case 3:r=t.sent,n(rt(r)),n(_("Visit updated","success",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(_("Something went wrong","error",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},st=Ze.reducer,ot=function(){var e=Object(i.b)(),t=Object(r.useState)(we),n=Object(re.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(ye),l=Object(re.a)(s,2),j=l[0],u=l[1],b=function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==j.what&&""!==j.where&&""!==j.time&&""!==j.category&&""!==j.priceCategory&&""!==j.easeOfOrganization&&""!==j.how){t.next=4;break}return e(_("Please fill all fields","error",5)),t.abrupt("return");case 4:if(a.spring||a.summer||a.fall||a.winter||a.indoors){t.next=7;break}return e(_("Please set a time of year","error",5)),t.abrupt("return");case 7:j.timeOfYear=a,j.category=j.category.split(" "),j.how=j.how.split(" "),e(ct(j)),c(we),u(ye);case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)(o.a,{m:2,component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(Z.jsx)(ne.a,{variant:"h5",component:"div",gutterBottom:!0,children:"Add a visit"}),Object(Z.jsx)(Xe,{timeOfYear:a,setTimeOfYear:c,values:j,setValues:u,edit:!1}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Oe.a,{direction:"row",spacing:2,sx:{pt:2,pl:1},children:[Object(Z.jsx)(xe.a,{variant:"contained",onClick:b,startIcon:Object(Z.jsx)(fe.a,{}),children:"Add"}),Object(Z.jsx)(xe.a,{variant:"outlined",onClick:function(){c(we),u(ye)},endIcon:Object(Z.jsx)(pe.a,{}),children:"Cancel"})]})})]})},lt=n(285),jt=n(249),ut=n(250),bt=n(251),dt=function(){var e=Object(i.b)(),t=Object(s.g)(),n=Object(i.c)((function(e){return e.login}));Object(r.useEffect)((function(){n.token&&t("/")}),[n]);var a=Object(r.useState)(""),c=Object(re.a)(a,2),l=c[0],j=c[1],u=Object(r.useState)(""),b=Object(re.a)(u,2),d=b[0],h=b[1],O=Object(r.useState)(!1),x=Object(re.a)(O,2),f=x[0],p=x[1],m=function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),e(Q({username:l,password:d})),j(""),h("");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(Z.jsxs)(o.a,{m:2,component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(Z.jsx)(ne.a,{variant:"h5",component:"div",gutterBottom:!0,children:"Login"}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{mb:1,width:"40ch"},children:[Object(Z.jsx)(ze.a,{htmlFor:"component-outlined",children:"Username"}),Object(Z.jsx)(Ae.a,{onChange:function(e){var t=e.target;return j(t.value)},value:l,label:"Username"})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Ce.a,{sx:{mb:1,width:"40ch"},children:[Object(Z.jsx)(ze.a,{htmlFor:"component-outlined",children:"Password"}),Object(Z.jsx)(Ae.a,{id:"outlined-adornment-password",type:f?"text":"password",onChange:function(e){var t=e.target;return h(t.value)},value:d,label:"Password",endAdornment:Object(Z.jsx)(We.a,{position:"end",children:Object(Z.jsx)(lt.a,{"aria-label":"toggle password visibility",onClick:function(){p(!f)},onMouseDown:function(e){e.preventDefault()},edge:"end",children:f?Object(Z.jsx)(jt.a,{}):Object(Z.jsx)(ut.a,{})})})})]})}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Oe.a,{direction:"row",spacing:2,sx:{pt:2},children:[Object(Z.jsx)(xe.a,{variant:"contained",onClick:m,startIcon:Object(Z.jsx)(bt.a,{}),children:"Login"}),Object(Z.jsx)(xe.a,{variant:"outlined",onClick:function(){j(""),h("")},endIcon:Object(Z.jsx)(pe.a,{}),children:"Cancel"})]})})]})},ht=n(252),Ot=n(119),xt=n.n(Ot),ft=n(253),pt=(n(108),function(e){var t=e.visit,n=Object(s.g)(),r=Object(i.b)(),a=Object(i.c)((function(e){return e.login}));if(!t)return null;var c=[];for(var l in t.timeOfYear)t.timeOfYear[l]&&c.push(l);return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(ne.a,{variant:"h5",component:"div",sx:{p:2},gutterBottom:!0,children:t.what}),Object(Z.jsx)(o.a,{pb:.5,children:Object(Z.jsxs)(ne.a,{variant:"body1",sx:{m:2},gutterBottom:!0,children:[Object(Z.jsx)(Ee.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Where: ",t.where,Object(Z.jsx)("br",{}),Object(Z.jsx)(Ve.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Categories: ",t.category.map((function(e){return Object(Z.jsxs)("li",{className:"list",children:[" ",e]},e)})),Object(Z.jsx)(ht.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Time of year: ",c.map((function(e){return Object(Z.jsxs)("li",{className:"list",children:[" ",e]},e)})),Object(Z.jsx)(Ye.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 How: ",t.how.map((function(e){return Object(Z.jsxs)("li",{className:"list",children:[" ",e]},e)})),Object(Z.jsx)(Me.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Ease of organization: ",t.easeOfOrganization,Object(Z.jsx)("br",{}),Object(Z.jsx)(Je.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Price category: ",t.priceCategory,Object(Z.jsx)("br",{}),Object(Z.jsx)(De.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Time: ",t.timeLength,Object(Z.jsx)("br",{}),Object(Z.jsx)(He.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Notes: ",t.notes,Object(Z.jsx)("br",{}),a.token&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Qe.a,{control:Object(Z.jsx)(Ge.a,{checked:t.done,onChange:function(e){var n=Object(Se.a)(Object(Se.a)({},t),{},{done:e.target.checked});r(it(n))}}),label:"Been there, done that"}),Object(Z.jsx)("br",{}),t.totalWalkingDistance&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Ke.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Total walking distance: ",t.totalWalkingDistance," km",Object(Z.jsx)("br",{})]}),t.done&&Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(Re.a,{sx:{mr:.5},fontSize:"inherit"}),"\xa0 Actual price: ",t.actualPrice," SEK",Object(Z.jsx)("br",{})]})]})]})}),a.token&&Object(Z.jsxs)(Oe.a,{direction:"row",spacing:2,sx:{p:2},children:[Object(Z.jsx)(xe.a,{variant:"outlined",onClick:function(){var e;window.confirm('Do you want to remove "'.concat(t.what,'"?'))&&(r((e=t.id,function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V.removeVisit(e);case 3:t.sent,n(at(e)),n(_("Visit successfully removed","success",5)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(_("Something went wrong","error",5));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),n("/"))},startIcon:Object(Z.jsx)(xt.a,{}),children:"Delete"}),Object(Z.jsx)(xe.a,{variant:"outlined",onClick:function(){n("/visits/".concat(t.id,"/edit"))},startIcon:Object(Z.jsx)(ft.a,{}),children:"Edit"})]})]})}),mt=n(254),vt=n(255),gt=function(){return Object(Z.jsx)(o.a,{p:2,mt:4,children:Object(Z.jsxs)(ne.a,{variant:"body2",component:"div",sx:{m:2},gutterBottom:!0,children:["Webapp developed by Elisa Perini \xa0",Object(Z.jsx)(lt.a,{href:"https://github.com/elisakaisa",fontSize:"inherit",target:"_blank",rel:"noopener noreferrer",children:Object(Z.jsx)(mt.a,{})}),Object(Z.jsx)(lt.a,{href:"https://www.linkedin.com/in/elisa-perini-2759ba227/",fontSize:"inherit",target:"_blank",rel:"noopener noreferrer",children:Object(Z.jsx)(vt.a,{})}),Object(Z.jsx)("br",{}),"Source code:"," ",Object(Z.jsx)(u.a,{href:"https://github.com/elisakaisa/ToVisitWebApp",underline:"hover",color:"inherit",children:"backend"})," & ",Object(Z.jsx)(u.a,{href:"https://github.com/elisakaisa/ToVisitWebApp_clientSide",underline:"hover",color:"inherit",children:"frontend"})]})})},wt=n(261),yt=function(){var e=Object(i.c)((function(e){return e.notifications}));return Object(Z.jsxs)("div",{children:["error"===e.type&&Object(Z.jsx)(wt.a,{severity:"error",children:e.message}),"warning"===e.type&&Object(Z.jsx)(wt.a,{severity:"warning",children:e.message}),"info"===e.type&&Object(Z.jsx)(wt.a,{severity:"info",children:e.message}),"success"===e.type&&Object(Z.jsx)(wt.a,{severity:"success",children:e.message})]})},kt=n(256),St=function(e){var t=e.visit;if(!t)return null;var n=Object(Se.a)(Object(Se.a)({},t),{},{how:t.how.join(" "),category:t.category.join(" ")}),a=t.timeOfYear,c=Object(i.b)(),l=Object(s.g)(),j=Object(r.useState)(n),u=Object(re.a)(j,2),b=u[0],d=u[1],h=Object(r.useState)(a),O=Object(re.a)(h,2),x=O[0],f=O[1],p=function(){var e=Object(k.a)(Object(y.a)().mark((function e(n){var r;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),""!==b.what&&""!==b.where&&""!==b.time&&""!==b.category&&""!==b.priceCategory&&""!==b.easeOfOrganization&&""!==b.how){e.next=4;break}return c(_("Please fill all required fields","error",5)),e.abrupt("return");case 4:if(x.spring||x.summer||x.fall||x.winter||x.indoors){e.next=7;break}return c(_("Please set a time of year","error",5)),e.abrupt("return");case 7:r=Object(Se.a)(Object(Se.a)({},b),{},{timeOfYear:x,category:b.category.split(" "),how:b.how.split(" ")}),c(it(r)),l("/visits/".concat(t.id));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsxs)(o.a,{m:2,component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},children:[Object(Z.jsxs)(ne.a,{variant:"h5",component:"div",gutterBottom:!0,children:["Edit visit ",t.what]}),Object(Z.jsx)(Xe,{timeOfYear:x,setTimeOfYear:f,values:b,setValues:d,edit:!0}),Object(Z.jsx)("div",{children:Object(Z.jsxs)(Oe.a,{direction:"row",spacing:2,sx:{pt:2,pl:1},children:[Object(Z.jsx)(xe.a,{variant:"contained",onClick:p,startIcon:Object(Z.jsx)(kt.a,{}),children:"Edit"}),Object(Z.jsx)(xe.a,{variant:"outlined",onClick:function(){d(n),f(a)},endIcon:Object(Z.jsx)(pe.a,{}),children:"Cancel"})]})})]})},Ct=function(){return Object(Z.jsx)("div",{children:"under construction"})},zt=function(){return Object(Z.jsx)("div",{children:"under construction"})},At=function(e){var t=e.visits,n=e.filteredBy;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)(ne.a,{variant:"h6",component:"div",sx:{p:1,m:1},gutterBottom:!0,children:["Visits filtered by category: ",n]}),Object(Z.jsx)(de,{visits:t,sorting:!1})]})},Wt=n(120),It=n(269),Ft=n(257),Tt=Object(Wt.a)({palette:{mode:"dark",background:{default:"#010204"},primary:{light:"#0C4160",main:"#738FA7"},text:{primary:"#ffffff"}}}),Pt=function(){var e=Object(i.c)((function(e){return e.notifications})),t=Object(i.b)();Object(r.useEffect)((function(){t(function(){var e=Object(k.a)(Object(y.a)().mark((function e(t){var n;return Object(y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getAll();case 2:n=e.sent,t(tt(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[t]);var n=Object(i.c)((function(e){return e.visits}));Object(r.useEffect)((function(){var e=window.localStorage.getItem("loggedBlogAppUser");if(e){var n=JSON.parse(e);t(function(e){return function(){var t=Object(k.a)(Object(y.a)().mark((function t(n){return Object(y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.localStorage.setItem("loggedBlogAppUser",JSON.stringify(e)),V.setToken(e.token),n(R(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(n))}}),[t]);var a=Object(s.f)("/visits/:id"),c=a?n.find((function(e){return e.id===a.params.id})):null,j=Object(s.f)("/visits/:id/edit"),u=j?n.find((function(e){return e.id===j.params.id})):null,b=Object(s.f)("visits/category/:category"),d=[],h=null;return b?n.filter((function(e){return e.category.find((function(t){t===b.params.category&&(d.push(e),h=b.params.category)}))})):d=null,Object(Z.jsxs)(It.a,{theme:Tt,children:[Object(Z.jsx)(Ft.a,{}),Object(Z.jsxs)(o.a,{m:2,pt:3,children:[Object(Z.jsx)(ee,{}),e.message&&Object(Z.jsx)(yt,{}),Object(Z.jsx)(o.a,{m:2,children:Object(Z.jsx)(l.a,{elevation:3,sx:{p:1,backgroundColor:"#040a1a"},children:Object(Z.jsxs)(s.c,{children:[Object(Z.jsx)(s.a,{path:"/",element:Object(Z.jsx)(he,{})}),Object(Z.jsx)(s.a,{path:"/new",element:Object(Z.jsx)(ot,{})}),Object(Z.jsx)(s.a,{path:"/login",element:Object(Z.jsx)(dt,{})}),Object(Z.jsx)(s.a,{path:"/visits/:id",element:Object(Z.jsx)(pt,{visit:c})}),Object(Z.jsx)(s.a,{path:"/visits/:id/edit",element:Object(Z.jsx)(St,{visit:u})}),Object(Z.jsx)(s.a,{path:"/search",element:Object(Z.jsx)(Ct,{})}),Object(Z.jsx)(s.a,{path:"/analytics",element:Object(Z.jsx)(zt,{})}),Object(Z.jsx)(s.a,{path:"/visits/category/:category",element:Object(Z.jsx)(At,{visits:d,filteredBy:h})})]})})}),Object(Z.jsx)(gt,{})]})]})},Bt=Object(S.a)({reducer:{visits:st,notifications:J,login:X}});c.a.createRoot(document.getElementById("root")).render(Object(Z.jsx)(i.a,{store:Bt,children:Object(Z.jsx)(j.a,{children:Object(Z.jsx)(Pt,{})})}))}},[[173,1,2]]]);
//# sourceMappingURL=main.4b769b99.chunk.js.map